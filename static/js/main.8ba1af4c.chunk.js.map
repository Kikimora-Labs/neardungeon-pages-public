{"version":3,"sources":["components/PlayerActions.js","pages/Storage.js","components/Helpers.js","pages/Tavern.js","pages/Mine.js","pages/Dungeon.js","App.js","index.js","images/logo.png"],"names":["CreatePlayerButton","props","e","a","preventDefault","_near","contract","create_player","className","disabled","signedIn","onClick","createPlayer","HireCharacter","hire_character","id","mutate","hireCharacter","name","TavernStop","tavern_stop","f","EquipItem","equip_item","characterId","itemId","equipItem","UnequipItem","unequip_item","slot","unequipItem","MineWork","mine_work","unit","amount","mineWork","MineUpgrade","mine_upgrade","event","mineUpgrade","MineStop","mine_stop","mineStop","DungeonBattleStart","dungeon_battle_start","characterIds","length","StoragePage","useState","lastChosen","setLastChosen","console","log","quests","characters","items","units","fetchPlayer","get_player","accountId","player","useSWR","errorRetryInterval","data","map","index","key","storage","charId","stats","slots","class","state","fromTs","s","parseFloat","toFixed","TavernPage","queue","idle","tavern","num_characters_slots","appeal","MinePage","upgrades","production","mine","cost","duration","capacity","DungeonPage","lastBattle","setLastBattle","Set","chosenCharacters","setChosenCharacters","DungeonBattleEnd","dungeon_battle_end","battles","chooseCharacters","lastBattleView","dungeon","num_troops","waves_count","is_deadly","Array","from","type","value","onChange","has","prev","filter","x","add","htmlFor","reward","win","total_exp","NearConfig","accountSuffix","networkId","nodeUrl","contractName","walletUrl","App","config","connected","account","_initNear","then","setState","signedAccountId","keyStore","nearAPI","BrowserLocalStorageKeyStore","Object","assign","deps","near","this","walletConnection","getAccountId","viewMethods","changeMethods","logOut","signOut","_accountId","refreshAllowance","alert","requestSignIn","reset_player","passProps","header","resetPlayer","role","aria-hidden","style","backgroundColor","basename","process","to","src","Logo","alt","opacity","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","exact","path","Storage","Tavern","Dungeon","Mine","React","Component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8ba1af4c.chunk.js","sourcesContent":["import React from 'react'\nimport { mutate } from 'swr'\n\nfunction CreatePlayerButton (props) {\n  async function createPlayer (e) {\n    e.preventDefault()\n    await props._near.contract.create_player({}, '20000000000000', '100000000000000000000000')\n  }\n  return (\n    <button\n      className='btn btn-success w-100 mb-2'\n      disabled={!props.signedIn}\n      onClick={(e) => createPlayer(e)}\n    >\n        Create Player\n    </button>\n  )\n}\n\nfunction HireCharacter (props) {\n  async function hireCharacter (e) {\n    e.preventDefault()\n    await props._near.contract.hire_character({'id': props.id}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success mb-2'\n      disabled={props.disabled}\n      onClick={(e) => hireCharacter(e)}\n    >\n        Hire {props.name}\n    </button>\n  )\n}\n\nfunction TavernStop (props) {\n  async function f (e) {\n    e.preventDefault()\n    await props._near.contract.tavern_stop({}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => f(e)}\n    >\n        Update\n    </button>\n  )\n}\n\nfunction EquipItem (props) {\n  async function equipItem (e) {\n    e.preventDefault()\n    await props._near.contract.equip_item({'character_id': props.characterId, 'item_id': props.itemId}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => equipItem(e)}\n    >\n        Equip\n    </button>\n  )\n}\n\nfunction UnequipItem (props) {\n  async function unequipItem (e) {\n    e.preventDefault()\n    await props._near.contract.unequip_item({'character_id': props.characterId, 'slot': props.slot}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => unequipItem(e)}\n    >\n        Unequip\n    </button>\n  )\n}\n\nfunction MineWork(props) {\n  async function mineWork (e) {\n    e.preventDefault()\n    await props._near.contract.mine_work({'unit': props.unit, 'amount':props.amount}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => mineWork(e)}\n    >\n        Produce\n    </button>\n  )\n}\n\nfunction MineUpgrade (props) {\n  async function mineUpgrade (e) {\n    e.preventDefault()\n    await props._near.contract.mine_upgrade({'event': props.event}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => mineUpgrade(e)}\n    >\n        Upgrade\n    </button>\n  )\n}\n\nfunction MineStop (props) {\n  async function mineStop (e) {\n    e.preventDefault()\n    await props._near.contract.mine_stop({}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      onClick={(e) => mineStop(e)}\n    >\n        Stop\n    </button>\n  )\n}\n\nfunction DungeonBattleStart (props) {\n  async function f(e) {\n    e.preventDefault()\n    await props._near.contract.dungeon_battle_start({'event': props.event, 'character_ids': props.characterIds}, '20000000000000')\n    mutate('player')\n  }\n  return (\n    <button\n      className='btn btn-success'\n      disabled={!props.characterIds.length}\n      onClick={(e) => f(e)}\n    >\n        Battle!\n    </button>\n  )\n}\n\nexport { CreatePlayerButton, TavernStop, HireCharacter, EquipItem, UnequipItem, DungeonBattleStart, MineWork, MineUpgrade, MineStop }\n\n\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { CreatePlayerButton, EquipItem, UnequipItem } from '../components/PlayerActions'\n\nfunction StoragePage (props) {\n  const [lastChosen, setLastChosen] = useState(-1)\n  console.log(lastChosen)\n\n  const fetchPlayer = async (...args) => {\n    return await props._near.contract.get_player({\"player_id\": props._near.accountId})\n  }\n\n  const { data: player } = useSWR('player', fetchPlayer, { errorRetryInterval: 250 })\n\n  let quests\n  let characters\n  let items\n  let units\n  if (player) {\n    console.log(player)\n    quests = player.quests.map((data, index) => {\n      return (\n        <div key={index} className='row'>\n          {data}\n        </div>\n      )\n    })\n    characters = player.storage.characters.map((data, index) => {\n      console.log(data)\n      const charId = data.id\n      const stats = data.stats.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      const slots = data.slots.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        {data[1] === \"NoItem\" ? <div/> : <div className='col-4'><UnequipItem {...props} characterId={charId} slot={data[0]}/></div>}\n        </div>)\n      })\n      return (\n        <div className='p-3' key={index}>\n          <div className='row'>\n          <div className='col-2'>Name</div>\n          <div className='col-2'>{data.name}</div>\n          <div className='col-2'>\n          {lastChosen > -1 ? (<EquipItem {...props} characterId={data.id} itemId={lastChosen}/>) : (<div/>)}\n          </div>\n          </div>\n\n          <div className='row'>\n          <div className='col-2'>Class</div>\n          <div className='col-2'>{data.class}</div>\n          </div>\n          {stats}\n\n          <div className='row'>\n          <div className='col-2'>State</div>\n          <div className='col-2'>{data.state}</div>\n          </div>\n          \n          <h4>\n            Slots\n          </h4>\n          {slots}\n\n        </div>\n      )\n    })\n\n    items = player.storage.items.map((data, index) => {\n      return (\n        <button key={index} className='btn btn-outline-secondary' onClick={(e) => setLastChosen(index)}>\n          {data}\n        </button>\n      )\n    })\n    units = player.storage.units.map((data, index) => {\n      return (\n        <div key={index} className='row'>\n          <div className='col-2'>{data[0]}</div>\n          <div className='col-2'>{data[1]}</div>\n        </div>\n      )\n    })\n  }\n  return player ? (\n    <div\n      className='container g-0'\n    >\n      <h3 className='mt-3'>\n        Quests\n        \n      </h3>\n      {quests}\n      <h3 className='mt-3'>\n        Characters\n        \n      </h3>\n      {characters}\n\n      <h3 className='mt-3'>\n      Items\n        \n      </h3>\n      {items}\n      <h3 className='mt-3'>\n      Units\n        \n      </h3>\n      {units}\n      </div>\n  ) : (    <CreatePlayerButton {...props}/>)\n}\n\nexport default StoragePage\n","import React from 'react'\n\nconst NEAR = '\\u24C3\\u202F'\n\nconst fromNear = (s) => parseFloat(s) / 1e24 || 0\nconst fromTs = (s) => (parseFloat(s) / 1e9).toFixed(1) || 0\n\nconst qq = '//'\n\nfunction loader () {\n  return (\n  // key='1' is needed by InfiniteScroll\n    <div className='d-flex justify-content-center' key='1'>\n      <div className='spinner-grow' role='status'>\n        <span className='visually-hidden'>Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nasync function getPlayer (props) {\n  \n}\n\nexport { NEAR, fromNear, fromTs, loader, qq, getPlayer }\n","import React from 'react'\nimport useSWR from 'swr'\n\nimport { fromTs } from '../components/Helpers'\nimport { CreatePlayerButton, HireCharacter, TavernStop } from '../components/PlayerActions'\n\nfunction TavernPage (props) {\n\n  const fetchPlayer = async (...args) => {\n    return await props._near.contract.get_player({\"player_id\": props._near.accountId})\n  }\n\n  const { data: player } = useSWR('player', fetchPlayer, { errorRetryInterval: 250 })\n\n  let queue\n  let idle\n  if (player) {\n    console.log(player)\n    queue = player.tavern.queue.map((data, index) => {\n      console.log(data)\n      const stats = data[0].stats.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      return (\n        <div key={index}>\n          <div className='row'>\n          <div className='col-2'>Name</div>\n          <div className='col-2'>{data[0].name}</div>\n          </div>\n\n          <div className='row'>\n          <div className='col-2'>Class</div>\n          <div className='col-2'>{data[0].class}</div>\n          </div>\n          {stats}\n          <HireCharacter {...props} disabled={player.storage.characters.length === player.storage.num_characters_slots} id={index} name={data[0].name}/>\n        </div>\n      )\n    })\n\n    idle = player.tavern.appeal.state[0] === \"Idle\"\n    /*appeal = player.tavern.appeal.production.map((data, index) => {\n      const units = data[1].cost.units.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      const duration = data[1].cost.duration\n      return (\n        <div key={index}>\n          <h5>{data[0]}</h5>\n          <div className='col-2'>Cost</div>\n          {!units.length ? <div className='col-2'>free</div> : units}\n          <div className='row'>\n          <div className='col-2'>Duration</div>\n        <div className='col-2'>{fromTs(duration)} sec</div>\n          </div>\n          {idle && <MineWork {...props} unit={data[0]} amount=\"10000\"/>}\n        </div>\n      )\n    })*/\n  }\n  return player ? (\n    <div\n      className='container g-0'\n    >\n      <h3 className='mt-3'>\n        Capacity of characters hired\n        \n      </h3>\n      {player.storage.characters.length} of {player.storage.num_characters_slots}\n      <h3 className='mt-3'>\n        Queue of character to hire\n        \n      </h3>\n      {queue}\n\n      <h3 className='mt-3'>\n        State  \n      </h3>\n      {idle ? \"Idle\" : \n      <div>\n        <div className='col-2'>{player.tavern.appeal.state[0]}</div>\n        <div className='col-2'>{fromTs(player.tavern.appeal.state[1])} sec</div>\n        <TavernStop {...props}/>\n        </div>}\n\n      </div>\n  ) : (    <CreatePlayerButton {...props}/>)\n}\n\nexport default TavernPage\n","import React from 'react'\nimport useSWR from 'swr'\n\nimport { fromTs } from '../components/Helpers'\nimport { CreatePlayerButton, MineUpgrade,  MineStop, MineWork } from '../components/PlayerActions'\n\nfunction MinePage (props) {\n\n  const fetchPlayer = async (...args) => {\n    return await props._near.contract.get_player({\"player_id\": props._near.accountId})\n  }\n\n  const { data: player } = useSWR('player', fetchPlayer, { errorRetryInterval: 250 })\n\n  let idle\n  let upgrades\n  let production\n  let units // just test for warnings\n\n  if (player) {\n    console.log(player)\n    idle = player.mine.state[0] === \"Idle\"\n    production = player.mine.production.map((data, index) => {\n      const units = data[1].cost.units.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      const duration = data[1].cost.duration\n      return (\n        <div key={index}>\n          <h5>{data[0]}</h5>\n          <div className='col-2'>Cost</div>\n          {!units.length ? <div className='col-2'>free</div> : units}\n          <div className='row'>\n          <div className='col-2'>Duration</div>\n        <div className='col-2'>{fromTs(duration)} sec</div>\n          </div>\n          {idle && <MineWork {...props} unit={data[0]} amount=\"10000\"/>}\n        </div>\n      )\n    })\n    upgrades = player.mine.upgrades.map((data, index) => {\n      const duration = data[1].duration\n      const units = data[1].units.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      return (\n        <div key={index}>\n          <h5>{data[0]}</h5>\n          <div className='col-2'>Cost</div>\n          {!units.length ? <div className='col-2'>free</div> : units}\n          <div className='row'>\n          <div className='col-2'>Duration</div>\n        <div className='col-2'>{fromTs(duration)} sec</div>\n          </div>\n          {idle && <MineUpgrade {...props} event={data[0]}/>}\n        </div>\n      )\n    })\n\n\n  }\n  return player ? (\n    <div\n      className='container g-0'\n    >\n      <h3 className='mt-3'>\n        State  \n      </h3>\n      {idle ? \"Idle\" : \n      <div>\n        <div className='col-2'>{player.mine.state[0]}</div>\n        <div className='col-2'>{fromTs(player.mine.state[1])} sec</div>\n        <MineStop {...props}/>\n        </div>}\n        <h3 className='mt-3'>\n        Capacity  \n      </h3>\n      {player.mine.capacity}\n        <h3 className='mt-3'>\n        Production  \n      </h3>\n      {production}\n      <h3 className='mt-3'>\n        Upgrades  \n      </h3>\n      {upgrades}\n\n      </div>\n  ) : (    <CreatePlayerButton {...props}/>)\n}\n\nexport default MinePage\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { fromTs } from '../components/Helpers'\nimport { CreatePlayerButton, DungeonBattleStart } from '../components/PlayerActions'\n\nfunction DungeonPage (props) {\n  const [lastBattle, setLastBattle] = useState(null)\n  const [chosenCharacters, setChosenCharacters] = useState(new Set())\n\n  function DungeonBattleEnd (props) {\n    async function f(e) {\n      e.preventDefault()\n      setLastBattle(await props._near.contract.dungeon_battle_end({'event': props.event}, '20000000000000'))\n      console.log(lastBattle)\n    }\n    return (\n      <button\n        className='btn btn-success'\n        onClick={(e) => f(e)}\n      >\n          Return\n      </button>\n    )\n  }\n  const fetchPlayer = async (...args) => {\n    return await props._near.contract.get_player({\"player_id\": props._near.accountId})\n  }\n\n  const { data: player } = useSWR('player', fetchPlayer, { errorRetryInterval: 250 })\n\n  console.log('11', lastBattle, chosenCharacters)\n\n  let battles\n  let characters\n  let chooseCharacters\n  if (player) {\n    console.log(player)\n    chooseCharacters = player.dungeon.num_troops > 0\n    battles = player.dungeon.battles.map((data, index) => {\n      const idle = data[1].state[0] === \"Idle\"\n      return (\n        <div key={index}>\n          <div className='row'>\n            <div className='col-2'>Name</div>\n           <div className='col-2'>{data[0]}</div>\n           </div>\n\n           <div className='row'>\n            <div className='col-2'>Number of waves</div>\n           <div className='col-2'>{data[1].waves_count}</div>\n           </div>\n\n           <div className='row'>\n            <div className='col-2'>Duration</div>\n           <div className='col-2'>{fromTs(data[1].duration)} sec</div>\n           </div>\n\n           <div className='row'>\n            <div className='col-2'>Deadly?</div>\n           <div className='col-2'>{data[1].is_deadly ? \"yes\" : \"no\"}</div>\n           </div>\n\n           <div className='row'>\n            <div className='col-2'>State</div>\n           <div className='col-2'>{idle ? \"Idle\" : fromTs(data[1].state[1])+\" sec\"}</div>\n           <div className='col-4'>{idle ? <DungeonBattleStart {...props} event={data[0]} characterIds={Array.from(chosenCharacters)}/> : <DungeonBattleEnd {...props} event={data[0]}/>}</div>\n           </div>\n\n           \n        </div>\n      )\n    })\n    characters = player.storage.characters.map((data, index) => {\n      const charId = data.id\n      const stats = data.stats.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      const slots = data.slots.map((data, index) => {\n        return (<div className='row' key={index}>\n        <div className='col-2'>{data[0]}</div>\n        <div className='col-2'>{data[1]}</div>\n        </div>)\n      })\n      return (\n        <div className='p-3' key={index}>\n          <div className='row'>\n          <div className='col-2'>Name</div>\n          <div className='col-2'>{data.name}</div>\n          </div>\n\n          <div className='row'>\n          <div className='col-2'>Class</div>\n          <div className='col-2'>{data.class}</div>\n          </div>\n          {stats}\n          <h4>\n            Slots\n          </h4>\n          {slots}\n          {chooseCharacters &&\n          <div className=\"form-check\">\n            <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id={\"character\"+index} onChange={(e) => {\n              !chosenCharacters.has(charId) ? setChosenCharacters(prev => new Set(prev.add(charId)))  : setChosenCharacters(prev => new Set([...prev].filter(x => x !== charId)))\n            }} />\n            <label className=\"form-check-label\" htmlFor={\"character\"+index}>\n              Add to the troop\n            </label>\n          </div>}\n        </div>\n      )\n    })\n    \n  }\n\n\n  let lastBattleView\n  if (lastBattle) {\n\n    const units = lastBattle.reward.units.map((data, index) => {\n      return (\n        <div key={index} className='row'>\n          <div className='col-2'>{data[0]}</div>\n          <div className='col-2'>{data[1]}</div>\n        </div>\n      )\n    })\n    const items = lastBattle.reward.items.map((data, index) => {\n      return (\n        <div key={index}>\n          {data}\n        </div>\n      )\n    })\n\n    lastBattleView = (\n      <div>\n        <h3 className='mt-3'>\n          Last battle\n        </h3>\n        <div className='row'>\n          <div className='col-2'>Win</div>\n          <div className='col-2'>{lastBattle.win ? \"yes\" : \"no\"}</div>\n        </div>\n        <div className='row'>\n          <div className='col-2'>Total exp received</div>\n          <div className='col-2'>{lastBattle.total_exp}</div>\n        </div>\n        <h5 className='mt-3'>\n          Items\n        </h5>\n        {items}\n        <h5 className='mt-3'>\n          Units\n        </h5>\n        {units}\n        \n      </div>\n    )\n  }\n\n  return player ? (\n    <div\n      className='container g-0'\n    >\n      {lastBattleView}\n      <h3 className='mt-3'>\n        Battles\n        \n      </h3>\n      {battles}\n      <h3 className='mt-3'>\n        Characters\n        \n      </h3>\n      {characters}\n\n      </div>\n  ) : (    <CreatePlayerButton {...props}/>)\n}\n\nexport default DungeonPage\n","import React from 'react'\nimport 'error-polyfill'\nimport 'bootstrap/dist/js/bootstrap.bundle'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.scss'\nimport * as nearAPI from 'near-api-js'\nimport Logo from './images/logo.png'\nimport { HashRouter as Router, Link, Route, Switch } from 'react-router-dom'\nimport StoragePage from './pages/Storage'\nimport TavernPage from './pages/Tavern'\nimport MinePage from './pages/Mine'\nimport DungeonPage from './pages/Dungeon'\n\nconst IsMainnet = false\nconst TestNearConfig = {\n  accountSuffix: 'testnet',\n  networkId: 'testnet',\n  nodeUrl: 'https://rpc.testnet.near.org',\n  contractName: 'dev-1637702458471-75231541124253',\n  walletUrl: 'https://wallet.testnet.near.org',\n}\nconst MainNearConfig = {\n  accountSuffix: 'near',\n  networkId: 'mainnet',\n  nodeUrl: 'https://rpc.mainnet.near.org',\n}\n\nconst NearConfig = IsMainnet ? MainNearConfig : TestNearConfig\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this._near = {}\n    this._near.config = NearConfig\n\n    this.state = {\n      connected: false,\n      account: null\n    }\n\n    this._initNear().then(() => {\n      this.setState({\n        signedIn: !!this._near.accountId,\n        signedAccountId: this._near.accountId,\n        connected: true\n      })\n    })\n  }\n\n  async _initNear () {\n    const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore()\n    const near = await nearAPI.connect(Object.assign({ deps: { keyStore } }, NearConfig))\n    this._near.keyStore = keyStore\n    this._near.near = near\n\n    this._near.walletConnection = new nearAPI.WalletConnection(near, NearConfig.contractName)\n    this._near.accountId = this._near.walletConnection.getAccountId()\n\n    this._near.account = this._near.walletConnection.account()\n    this._near.contract = new nearAPI.Contract(this._near.account, NearConfig.contractName, {\n      viewMethods: [\n        'get_status',\n        'get_player'\n      ],\n      changeMethods: [\n        'create_player',\n        'reset_player',\n        'hire_character',\n        'tavern_stop',\n        'equip_item',\n        'unequip_item',\n        'dungeon_battle_start',\n        'dungeon_battle_end',\n        'mine_work',\n        'mine_upgrade',\n        'mine_stop'\n      ]\n    })\n\n    this._near.player = this._near.accountId ? await this._near.contract.get_player({\"player_id\": this._near.accountId}) : null\n\n    this._near.logOut = () => {\n      this._near.walletConnection.signOut()\n      this._near.accountId = null\n      this.setState({\n        signedIn: !!this._accountId,\n        signedAccountId: this._accountId\n      })\n    }\n\n    this._near.refreshAllowance = async () => {\n      alert(\"You're out of access key allowance. Need sign in again to refresh it\")\n      await this.logOut()\n      await this.requestSignIn()\n    }\n  }\n\n  async requestSignIn (e) {\n    e && e.preventDefault()\n    const appTitle = 'NEAR Dungeon'\n    await this._near.walletConnection.requestSignIn(\n      NearConfig.contractName,\n      appTitle\n    )\n    return false\n  }\n\n  async resetPlayer (e) {\n    e && e.preventDefault()\n    await this._near.contract.reset_player({}, '20000000000000', '100000000000000000000000')\n  }\n\n  render () {\n    const passProps = {\n      _near: this._near,\n      refreshAllowance: () => this._near.refreshAllowance(),\n      ...this.state\n    }\n    const header = !this.state.connected ? (\n      <div>Connecting... <span className='spinner-grow spinner-grow-sm' role='status' aria-hidden='true' /></div>\n    ) : (this.state.signedIn ? (\n      <div>\n        <button\n          className='btn btn-outline-danger mx-3'\n          onClick={(e) => this.resetPlayer(e)}\n        >Reset Player\n        </button>\n        <button\n          className='btn btn-outline-secondary'\n          onClick={() => this._near.logOut()}\n        >Sign out ({this.state.signedAccountId})\n        </button>\n      </div>\n    ) : (\n      <div>\n        <button\n          className='btn btn-warning'\n          onClick={(e) => this.requestSignIn(e)}\n        >Sign in with NEAR Wallet\n        </button>\n      </div>\n    ))\n\n    return (\n      <div className='App text-white' style={{ backgroundColor: '#2F2F2F' }}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <nav className='navbar navbar-expand-lg navbar-dark mb-3' style={{ backgroundColor: '#2F2F2F' }}>\n            <div className='container-fluid'>\n              <Link className='navbar-brand' to='/'>\n                <img src={Logo} alt='NEAR Dungeon' className='d-inline-block align-middle' style={{ opacity: 0.85 }} />\n                [BETA] NEAR Dungeon\n              </Link>\n              <button\n                className='navbar-toggler' type='button' data-bs-toggle='collapse'\n                data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent'\n                aria-expanded='false' aria-label='Toggle navigation'\n              >\n                <span className='navbar-toggler-icon' />\n              </button>\n              <div className='collapse navbar-collapse' id='navbarSupportedContent'>\n                <ul className='navbar-nav me-auto mb-2 mb-lg-0'>\n                <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/'>Storage</Link>\n                  </li>\n                  <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/tavern'>Tavern</Link>\n                  </li>\n                  {this._near.player && this._near.player.dungeon &&\n                  <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/dungeon'>Dungeon</Link>\n                  </li>}\n                  {this._near.player && this._near.player.mine &&\n                  <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/mine'>Mine</Link>\n                  </li>}\n                </ul>\n                <form className='d-flex'>\n                  {header}\n                </form>\n              </div>\n            </div>\n          </nav>\n\n          <Switch>\n            <Route exact path='/'>\n              <StoragePage {...passProps} />\n            </Route>\n            <Route exact path='/tavern'>\n              <TavernPage {...passProps} />\n            </Route>\n            <Route exact path='/dungeon'>\n              <DungeonPage {...passProps} />\n            </Route>\n            <Route exact path='/mine'>\n              <MinePage {...passProps} />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}